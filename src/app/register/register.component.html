<div class="container mt-5">
    <div class="card" style="max-width: 400px; margin: auto;">
        <div class="card-header text-center">
            <h4>Đăng Ký</h4>
        </div>
        <div class="card-body">
        <form (ngSubmit)="onRegister()" [formGroup]="registerForm" method="post">
            <div class="form-group">
                <label for="username">Tên người dùng:</label>
                <input type="text" class="form-control" id="username" name="username" formControlName = "username"  >
            </div>
            <div *ngIf="registerForm.get('username')?.invalid && submitted" class="text-danger">
                Tên người dùng là bắt buộc và phải ít nhất 3 ký tự.
              </div>
            <div class="form-group mb-3">
                <label for="email">Email:</label>
                <input type="email" class="form-control" id="email" name="email" formControlName = "email"  >
            </div>
            <div *ngIf="registerForm.get('email')?.invalid && submitted" class="text-danger">
                Email không hợp lệ.
              </div>
              <div *ngIf="errorMessage" class="error-message">
                {{ errorMessage }}
              </div>
            <div class="form-group mb-3">
                <label for="password">Mật khẩu:</label>
                <div class="input-group">
                    <input [type]="showPassword ? 'text' : 'password'" class="form-control" id="password" name="password" formControlName = "password" >
                    <div class="input-group-append">
                        <span class="input-group-text" (click)="togglePassword()">
                            <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
                        </span>
                    </div>
                </div>
            </div>
            <div *ngIf="registerForm.get('password')?.invalid && submitted" class="text-danger">
                Mật khẩu phải có ít nhất 6 ký tự và chứa ít nhất 1 ký tự đặc biệt.
              </div>
            <div class="form-group mb-3">
                <label for="checkpassword">Nhập lại mật khẩu:</label>
                <div class="input-group">
                    <input [type]="showPassword ? 'text' : 'password'" class="form-control" id="checkpassword" name="checkpassword" formControlName = "checkPassword" >
                    <div class="input-group-append">
                        <span class="input-group-text" (click)="togglePassword()">
                            <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
                        </span>
                    </div>
                </div>
            </div>
            <div *ngIf="registerForm.get('password')?.invalid && submitted" class="text-danger">
                Mật khẩu không khớp
              </div>
            <button type="submit" class="btn btn-primary">Đăng Ký</button>
        </form>
    </div>
</div>
